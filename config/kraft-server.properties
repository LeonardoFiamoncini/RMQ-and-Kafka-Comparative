# ============================================================================
# Configuração do Kafka (Versão 4.0.0) em modo KRaft (sem Zookeeper)
# ============================================================================

# ID do nó (será sobrescrito por variável de ambiente)
node.id=1

# Papéis do processo (broker e controller)
process.roles=broker,controller

# Votantes do quorum do controller
controller.quorum.voters=1@kafka:9093

# Nome do listener do controller (obrigatório para KRaft)
controller.listener.names=CONTROLLER

# Listeners
listeners=PLAINTEXT://0.0.0.0:9092,CONTROLLER://0.0.0.0:9093

# Advertised listeners (para clientes externos)
advertised.listeners=PLAINTEXT://kafka:9092

# Mapeamento de protocolos de segurança
listener.security.protocol.map=CONTROLLER:PLAINTEXT,PLAINTEXT:PLAINTEXT

# Nome do listener inter-broker
inter.broker.listener.name=PLAINTEXT

# Diretório de logs
log.dirs=/var/lib/kafka/data

# Auto-criar tópicos
auto.create.topics.enable=true

# Fator de replicação para tópicos de offset (necessário para single node)
offsets.topic.replication.factor=1

# Configurações de performance (otimizadas para benchmark)
num.network.threads=8
num.partitions=1
